services:
  - type: web
    name: estatupidas-bot
    runtime: python
    plan: starter
    region: oregon

    buildCommand: pip install -r requirements.txt

    startCommand: python -m app.bot

    autoDeploy: true

    envVars:
      - key: BOT_TOKEN
        sync: false
      - key: WEBHOOK_URL
        sync: false
      - key: PYTHON_VERSION
        value: 3.10.13
      - key: TZ
        value: UTC

    healthCheckPath: /
    healthCheckTimeout: 200
    healthCheckPeriod: 30

    scaling:
      minInstances: 1
      maxInstances: 2

    disk:
      name: bot-storage
      mountPath: /var/data
      sizeGB: 1
